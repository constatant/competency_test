{% extends "base.html" %}
{% block title %}CTest — Вход для заказчика{% endblock %}
{% block head_extra %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/customer_login.css') }}">
{% endblock %}
{% block content %}
<section id="content" class="auth-container">
  <h2 class="page-title">Вход или регистрация</h2>
  <form id="auth-form" class="form-card" method="post" action="/api/auth/login">
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" name="email" placeholder="you@example.com" required>
    </div>
    <div class="form-group">
      <label for="password">Пароль</label>
      <input type="password" id="password" name="password" placeholder="••••••••" required minlength="6">
    </div>
    <div class="form-actions">
      <button type="submit" class="btn primary">Войти</button>
      <button type="button" id="register-btn" class="btn secondary">Зарегистрироваться</button>
    </div>
    <p id="message" class="message" role="status" aria-live="polite"></p>
  </form>
</section>
{% endblock %}

<!-- {% block scripts %}
<script>
// Небольшая клиентская логика (демо). В реальном проекте замените на запросы к API.
document.getElementById('auth-form').addEventListener('submit', function(e){
  e.preventDefault();
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value;
  document.getElementById('message').textContent = `Вход с email: ${email}`;
  // fetch('/api/auth/login', { method:'POST', body: new FormData(this) })
  //   .then(r => r.json()).then(data => ...)
});

document.getElementById('register-btn').addEventListener('click', function(){
  const email = document.getElementById('email').value.trim();
  document.getElementById('message').textContent = `Регистрация с email: ${email}`;
  // fetch('/api/auth/register', { method:'POST', body: new FormData(document.getElementById('auth-form')) })
});
</script>
{% endblock %} -->

{% block scripts %}
<script src="{{ url_for('static', filename='js/customer_login.js') }}" defer></script>
{% endblock %}